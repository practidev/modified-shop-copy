/*!
 * jquery.sumoselect
 * http://hemantnegi.github.io/jquery.sumoselect
 * 2016-12-12
 *
 * Copyright 2015 Hemant Negi
 * Email : hemant.frnz@gmail.com
 * Compressor http://refresh-sf.com/
 * v3.4.9 - 25.01.2023

 * replace <label> with <span> to prevent browser console messages 
 */
function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){return function(e){if(Array.isArray(e))return e} 
(e)||function(e,t){var l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var n,i,a=[],o=!0,s=!1;try{for(l=l.call(e);!(o=(n=l.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,n=Array(t);l<t;l++)n[l]=e[l];return n}var n;n=function(l){l.fn.SumoSelect=function(n){var i=function(e,t){var l=null;"function"==typeof Event?l=new Event(t,{bubbles:!0}):(l=document.createEvent("Event")).initEvent(t,!0,!0),e.dispatchEvent(l)};window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);var a={placeholder:"Select Here",csvDispCount:3,captionFormat:"{0} Selected",captionFormatAllSelected:"{0} all selected!",floatWidth:400,forceCustomRendering:!1,nativeOnDevice:["Android","BlackBerry","iPhone","iPad","iPod","Opera Mini","IEMobile","Silk"],outputAsCSV:!1,csvSepChar:",",okCancelInMulti:!1,isClickAwayOk:!1,triggerChangeCombined:!0,selectAll:!1,selectAllPartialCheck:!0,search:!1,searchText:"Search...",searchFn:function(e,t){return 0>e.toLowerCase().indexOf(t.toLowerCase())},noMatch:'No matches for "{0}"',prefix:"",locale:["OK","Cancel","Select All","Clear all"],up:!1,showTitle:!0,clearAll:!1,closeAfterClearAll:!1,max:null,renderLi:function(e){return e}},o=this.each((function(){var o=this;if(!this.sumo&&l(this).is("select")){var s=l.extend({},a,n,l(this).data());this.sumo={E:l(o),is_multi:l(o).attr("multiple"),select:"",caption:"",placeholder:"",optDiv:"",CaptionCont:"",ul:"",is_floating:!1,is_opened:!1,mob:!1,Pstate:[],lastUnselected:null,selectedCount:0,createElems:function(){var e=this,t=e.E.find("option:checked");return e.E.wrap('<div class="SumoSelect" tabindex="0" role="button" aria-expanded="false">'),t.each((function(e,t){t.selected=!0})),e.select=e.E.parent(),e.caption=l("<span>"),e.CaptionCont=l('<p class="CaptionCont SelectBox '.concat(e.E.attr("class"),'" ><span><i></i></span></p>')).attr("style",e.E.attr("style")).prepend(e.caption),e.select.append(e.CaptionCont),e.is_multi||(s.okCancelInMulti=!1),e.E.attr("disabled")&&e.select.addClass("disabled").removeAttr("tabindex"),s.outputAsCSV&&e.is_multi&&e.E.attr("name")&&(e.select.append(l('<input class="HEMANT123" type="hidden" />').attr("name",e.E.attr("name")).val(e.getSelStr())),e.E.removeAttr("name")),e.isMobile()&&!s.forceCustomRendering?void e.setNativeMobile():(e.E.attr("name")&&e.select.addClass("sumo_".concat(e.E.attr("name").replace(/\[\]/,""))),e.E.addClass("SumoUnder").attr("tabindex","-1"),e.optDiv=l('<div class="optWrapper '.concat(s.up?"up":"",'">')),e.floatingList(),e.ul=l('<ul class="options">'),e.optDiv.append(e.ul),s.clearAll&&e.is_multi&&e.ClearAll(),s.selectAll&&e.is_multi&&!s.max&&e.SelAll(),s.search&&e.Search(),e.ul.append(e.prepItems(e.E.children())),e.is_multi&&e.multiSelelect(),e.select.append(e.optDiv),e._handleMax(),e.basicEvents(),void e.selAllState())},prepItems:function(e,t){var n=[],i=this;return l(e).each((function(e,a){var o=l(a);n.push(o.is("optgroup")?l('<li class="group '.concat(a.disabled?"disabled":"",'"><span></span><ul></ul></li>')).find("span").text(o.attr("span")).end().find("ul").append(i.prepItems(o.children(),a.disabled)).end():i.createLi(o,t))})),n},createLi:function(e,t){var n=this;e.attr("value")||e.attr("value",e.val());var i=l('<li class="opt"><span>'.concat(e.html(),"</span></li>"));return i.data("opt",e),e.data("li",i),n.is_multi&&i.prepend("<span><i></i></span>"),(e[0].disabled||t)&&i.addClass("disabled"),n.onOptClick(i),e[0].selected&&(i.addClass("selected"),n.selectedCount++),e.attr("class")&&i.addClass(e.attr("class")),e.attr("title")&&i.attr("title",e.attr("title")),s.renderLi(i,e)},getSelStr:function(){var e=[];return this.E.find("option:checked").each((function(){e.push(l(this).val())})),e.join(s.csvSepChar)},multiSelelect:function(){var e=this;e.optDiv.addClass("multiple"),e.okbtn=l('<p tabindex="0" class="btnOk"></p>').on("click",(function(){e._okbtn(),e.hideOpts()}));var n=t(s.locale,1);e.okbtn[0].innerText=n[0],e.cancelBtn=l('<p tabindex="0" class="btnCancel"></p>').on("click",(function(){e._cnbtn(),e.hideOpts()}));var i=t(s.locale,2);e.cancelBtn[0].innerText=i[1];var a=e.okbtn.add(e.cancelBtn);e.optDiv.append(l('<div class="MultiControls">').append(a)),a.on("keydown.sumo",(function(t){var n=l(this);switch(t.which){case 32:case 13:n.trigger("click");break;case 9:if(n.hasClass("btnOk"))return;break;case 27:return e._cnbtn(),void e.hideOpts()}t.stopPropagation(),t.preventDefault()}))},_okbtn:function(){var e=this,t=0;s.triggerChangeCombined&&(e.E.find("option:checked").length===e.Pstate.length?e.E.find("option").each((function(l,n){n.selected&&0>e.Pstate.indexOf(l)&&(t=1)})):t=1,t&&(e.callChange(),e.setText()))},_cnbtn:function(){var e=this;e.E.find("option:checked").each((function(){this.selected=!1})),e.optDiv.find("li.selected").removeClass("selected");for(var t=0;t<e.Pstate.length;t++)e.E.find("option")[e.Pstate[t]].selected=!0,e.ul.find("li.opt").eq(e.Pstate[t]).addClass("selected");e.setText(),e.selAllState()},_handleMax:function(){s.max&&(this.selectedCount>=+s.max?this.optDiv.find("li.opt").not(".hidden").each((function(e,t){l(t).hasClass("selected")||l(t).addClass("temporary-disabled disabled")})):this.optDiv.find("li.opt").not(".hidden").each((function(e,t){l(t).hasClass("temporary-disabled")&&l(t).removeClass("temporary-disabled disabled")})))},ClearAll:function(){var e=this;if(e.is_multi){e.selAll=l('<p class="reset-all"><span><i></i></span><span></span></p>');var n=t(s.locale,4);e.selAll.find("span")[0].innerText=n[3],e.optDiv.addClass("resetAll"),e.selAll.on("click",(function(){e.selAll.removeClass("selected"),e.toggSelAll(!1,1),s.closeAfterClearAll&&e.hideOpts()})),e.optDiv.prepend(e.selAll)}},SelAll:function(){var e=this;if(e.is_multi){e.selAll=l('<p class="select-all"><span><i></i></span><span></span></p>');var n=t(s.locale,3);e.selAll.find("span")[0].innerText=n[2],e.optDiv.addClass("selall"),e.selAll.on("click",(function(){e.selAll.toggleClass("selected"),e.toggSelAll(e.selAll.hasClass("selected"),1),e.selAllState()})),e.optDiv.prepend(e.selAll)}},Search:function(){var e=this,t=e.CaptionCont.addClass("search"),i=l('<p class="no-match">'),a=n.searchFn&&"function"==typeof n.searchFn?n.searchFn:s.searchFn;e.ftxt=l('<input name="sumosearch" type="search" class="search-txt" value="" autocomplete="off">').on("click",(function(e){e.stopPropagation()})),e.ftxt[0].placeholder=s.searchText,t.append(e.ftxt),e.optDiv.children("ul").after(i),e.ftxt.on("input.sumo",(function(){var t=e.optDiv.find("ul.options li.opt").each((function(t,n){var i=l(n),o=i.data("opt")[0];o.hidden=a(i.text(),e.ftxt.val(),i),i.toggleClass("hidden",o.hidden)})).not(".hidden");e.optDiv[0].querySelectorAll("li.group").forEach((function(e){e.querySelector("li:not(.hidden)")?e.classList.remove("hidden"):e.classList.add("hidden")})),i.html(s.noMatch.replace(/\{0\}/g,"<em></em>")).toggle(!t.length),i.find("em").text(e.ftxt.val()),e.selAllState()}))},selAllState:function(){var e=this;if(s.selectAll&&e.is_multi){var t=0,n=0;e.optDiv.find("li.opt:not(.disabled):not(.hidden)").each((function(e,i){l(i).hasClass("selected")&&t++,n++})),t==n?e.selAll.removeClass("partial").addClass("selected"):0===t?e.selAll.removeClass("selected partial"):(s.selectAllPartialCheck&&e.selAll.addClass("partial"),e.selAll.removeClass("selected"))}},showOpts:function(){var e=this;if(!e.E.attr("disabled")){e.E.trigger("sumo:opening",e),e.is_opened=!0,e.select.addClass("open").attr("aria-expanded","true");var t=e.optDiv.find("li.opt.selected").first();if(t.length?e.optDiv.find(".options").scrollTop(t.position().top):e.optDiv.find(".options").scrollTop(0),e.E.trigger("sumo:opened",e),e.ftxt?e.ftxt.focus():e.select.focus(),l(document).on("click.sumo",(function(t){if(!e.select.is(t.target)&&0===e.select.has(t.target).length){if(!e.is_opened)return;e.hideOpts(),s.okCancelInMulti&&(s.isClickAwayOk?e._okbtn():e._cnbtn())}})),e.is_floating){var n=e.optDiv.children("ul").outerHeight()+2;e.is_multi&&(n+=+e.optDiv.css("padding-bottom")),e.optDiv.css("height",n),l("body").addClass("sumoStopScroll")}e.setPstate()}},setPstate:function(){var e=this;e.is_multi&&(e.is_floating||s.okCancelInMulti)&&(e.Pstate=[],e.E.find("option").each((function(t,l){l.selected&&e.Pstate.push(t)})))},callChange:function(){this.E.get().forEach((function(e){i(e,"change"),i(e,"click")}))},hideOpts:function(){var e=this;e.is_opened&&(e.E.trigger("sumo:closing",e),e.is_opened=!1,e.select.removeClass("open").attr("aria-expanded","false").find("ul li.sel").removeClass("sel"),e.E.trigger("sumo:closed",e),l(document).off("click.sumo"),l("body").removeClass("sumoStopScroll"),s.search&&(e.ftxt.val(""),e.ftxt.trigger("input.sumo")))},setOnOpen:function(){var e=this,t=e.optDiv.find("li.opt:not(.hidden)").eq(s.search?0:e.E[0].selectedIndex);t.hasClass("disabled")&&!(t=t.next(":not(disabled)")).length||(e.optDiv.find("li.sel").removeClass("sel"),t.addClass("sel"),e.showOpts())},nav:function(e){var t=this,l=null,n=t.ul.find("li.opt.sel:not(.hidden)"),i=t.ul.find("li.opt:not(.disabled):not(.hidden)"),a=i.index(n);if(t.is_opened&&n.length){if(e&&0<a)l=i.eq(a-1);else{if(!(!e&&a<i.length-1&&-1<a))return;l=i.eq(a+1)}n.removeClass("sel"),n=l.addClass("sel");var o=t.ul,s=o.scrollTop(),r=n.position().top+s;r>=s+o.height()-n.outerHeight()&&o.scrollTop(r-o.height()+n.outerHeight()),r<s&&o.scrollTop(r)}else t.setOnOpen()},basicEvents:function(){var e=this;e.CaptionCont.on("click",(function(t){e.E.trigger("click"),e.is_opened?e.hideOpts():e.showOpts(),t.stopPropagation()})),e.select.on("keydown.sumo",(function(t){switch(t.which){case 38:e.nav(!0);break;case 40:e.nav(!1);break;case 65:if(e.is_multi&&!s.max&&t.ctrlKey){e.toggSelAll(!t.shiftKey,1);break}return;case 32:if(s.search&&e.ftxt.is(t.target))return;break;case 13:e.is_opened&&e.optDiv.find("ul li.sel").trigger("click"),s.search?e.select.focus():e.setOnOpen();break;case 9:return void(s.okCancelInMulti||e.hideOpts());case 27:return s.okCancelInMulti&&e._cnbtn(),e.hideOpts(),void(s.search&&e.select.focus());default:return}t.preventDefault()})),l(window).on("resize.sumo",(function(){e.floatingList()}))},onOptClick:function(e){var t=this;e.on("click",(function(){var e=l(this);e.hasClass("disabled")||(t.is_multi?(e.toggleClass("selected"),e.data("opt")[0].selected=e.hasClass("selected"),!1===e.data("opt")[0].selected?(t.lastUnselected=e.data("opt")[0].textContent,t.selectedCount--):t.selectedCount++,s.max&&t._handleMax(),t.selAllState()):(e.parent().find("li.selected").removeClass("selected"),e.toggleClass("selected"),e.data("opt")[0].selected=!0,t.selectedCount=1),!(t.is_multi&&s.triggerChangeCombined&&(t.is_floating||s.okCancelInMulti))&&(t.setText(),t.callChange()),!t.is_multi&&t.hideOpts())}))},setText:function(){var e=this,t=0;if(e.placeholder="",e.is_multi){var l=e.E.find(":checked").not(":disabled");t=l.length,e.placeholder=s.csvDispCount&&l.length>s.csvDispCount?l.length===e.E.find("option").length&&s.captionFormatAllSelected?s.captionFormatAllSelected.replace(/\{0\}/g,l.length):s.captionFormat.replace(/\{0\}/g,l.length):l.toArray().map((function(e){return e.innerText})).join(", ")}else{var n=e.E.find(":checked").not(":disabled");e.placeholder=n.text(),t=n.length}var i=!1;e.placeholder||(i=!0,e.placeholder=e.E.attr("placeholder"),!e.placeholder&&(e.placeholder=e.E.find("option:disabled:checked").text())),e.select.attr("selected-count",t),e.select.attr("is-selected",t?"true":"false"),e.placeholder=e.placeholder?"".concat(s.prefix," ").concat(e.placeholder):s.placeholder,e.caption.text(e.placeholder),s.showTitle&&e.CaptionCont.attr("title",e.placeholder);var a=e.select.find("input.HEMANT123");return a.length&&a.val(e.getSelStr()),i?e.caption.addClass("placeholder"):e.caption.removeClass("placeholder"),e.placeholder},isMobile:function(){for(var e=navigator.userAgent||navigator.vendor||window.opera,t=0;t<s.nativeOnDevice.length;t++)if(0<e.toString().toLowerCase().indexOf(s.nativeOnDevice[t].toLowerCase()))return s.nativeOnDevice[t];return!1},setNativeMobile:function(){var e=this;e.E.addClass("SelectClass"),e.mob=!0,e.E.change((function(){e.setText()}))},floatingList:function(){var e=this;e.is_floating=l(window).width()<=s.floatWidth,e.optDiv.toggleClass("isFloating",e.is_floating),e.is_floating||e.optDiv.css("height",""),e.optDiv.toggleClass("okCancelInMulti",s.okCancelInMulti&&!e.is_floating)},vRange:function(e){if(this.E.find("option").length<=e||0>e)throw new Error("index out of bounds");return this},toggSel:function(e,t){var n=this,i=null;"number"==typeof t?(n.vRange(t),i=n.E.find("option")[t]):i=n.E.find('option[value="'.concat(t,'"]'))[0]||0,!i||i.disabled||i.selected!==e&&(s.max&&!i.selected&&n.selectedCount<s.max||i.selected||!s.max&&!i.selected)&&(i.selected=e,!n.mob&&l(i).data("li").toggleClass("selected",e),n.callChange(),n.setPstate(),n.setText(),n.selAllState())},toggDis:function(e,t){var l=this.vRange(t);l.E.find("option")[t].disabled=e,e&&(l.E.find("option")[t].selected=!1),l.mob||l.optDiv.find("ul.options li.opt").eq(t).toggleClass("disabled",e).removeClass("selected"),l.setText()},toggSumo:function(e){var t=this;return t.enabled=e,t.select.toggleClass("disabled",e),e?(t.E.attr("disabled","disabled"),t.select.removeAttr("tabindex")):(t.E.removeAttr("disabled"),t.select.attr("tabindex","0")),t},toggSelAll:function(e,t){var n=this,i=l.extend(!0,{},l._data(n.E.get(0),"events"));n.E.off(),n.is_multi?e?n.E.find("option").toArray().filter((function(e){return!e.selected&&!e.disabled&&"none"!==e.style.display})).forEach((function(e){l(e).data("li").hasClass("hidden")||(e.selected=!0,l(e).data("li").toggleClass("selected",!0))})):n.E.find("option").toArray().filter((function(e){return e.selected&&!e.disabled&&"none"!==e.style.display})).forEach((function(e){l(e).data("li").hasClass("hidden")||(e.selected=!1,l(e).data("li").toggleClass("selected",!1))})):e?console.warn("You called `SelectAll` on a non-multiple select"):n.E[0].selectedIndex=-1,l.each(i,(function(e,t){l.each(t,(function(e,t){n.E.on(t.type,t.handler)}))})),(!n.is_multi||s.okCancelInMulti)&&n.is_multi||(n.callChange(),n.setText()),t||(!n.mob&&n.selAll&&n.selAll.removeClass("partial").toggleClass("selected",!!e),n.setText(),n.setPstate())},reload:function(){var e=this.unload();return l(e).SumoSelect(s)},unload:function(){var e=this;return e.select.before(e.E),e.E.show(),e.E[0].classList.remove("SumoUnder","SelectClass"),s.outputAsCSV&&e.is_multi&&e.select.find("input.HEMANT123").length&&e.E.attr("name",e.select.find("input.HEMANT123").attr("name")),e.select.remove(),delete o.sumo,e.E.trigger("sumo:unloaded",e),o},add:function(t,n,i,a){if(void 0===t)throw new Error("No value to add");var s=this,r=s.E.find("option"),c=n,d=i;"number"==typeof n?(d=n,c=t):void 0===n&&(c=t);var u=l("<option></option>").val(t).html(c);if(a&&"object"===e(a)&&l.each(a,(function(e,t){u.attr(e,t)})),r.length<d)throw new Error("index out of bounds");return void 0===d||r.length===d?(s.E.append(u),!s.mob&&s.ul.append(s.createLi(u))):(r.eq(d).before(u),!s.mob&&s.ul.find("li.opt").eq(d).before(s.createLi(u))),o},remove:function(e){var t=this.vRange(e);t.E.find("option").eq(e).remove(),t.mob||t.optDiv.find("ul.options li.opt").eq(e).remove(),t.setText()},removeAll:function(){for(var e=this.E.find("option"),t=e.length-1;0<=t;t--)!0!==e[t].selected&&this.remove(t)},find:function(e){var t=this.E.find("option");for(var l in t)if(t[l].value===e)return+l;return-1},selectItem:function(e){this.toggSel(!0,e)},unSelectItem:function(e){this.toggSel(!1,e)},selectAll:function(){this.toggSelAll(!0)},unSelectAll:function(){this.toggSelAll(!1)},disableItem:function(e){this.toggDis(!0,e)},enableItem:function(e){this.toggDis(!1,e)},enabled:!0,enable:function(){return this.toggSumo(!1)},disable:function(){return this.toggSumo(!0)},init:function(){var e=this;return e.createElems(),e.setText(),e.E.trigger("sumo:initialized",e),e}},o.sumo.init()}}));return 1===o.length?o[0]:o}},"function"==typeof define&&define.amd?define(["jquery"],n):"undefined"==typeof exports?n(jQuery):module.exports=n(require("jquery"));
